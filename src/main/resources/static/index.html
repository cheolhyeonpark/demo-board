<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main</title>
</head>
<body>
<h1>Hello World!</h1>

<p>
제목 :
<input type="text" id="title">
작성자 :
<input type="text" id="author">
내용 :
<textarea id="content"></textarea>
<button type="button" id="btn_save">등록</button>
</p>
<p>
    <a href="/oauth2/authorization/google" role="button">login</a>
</p>
<p>
    <a href="/logout" role="button">logout</a>
</p>
<script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
<script>
var index = {
    init : function() {
        var _this = this;
        $('#btn_save').on('click', function() {
            _this.save();
        });
    },
    save : function() {
        var data = {
            title: $('#title').val(),
            author: $('#author').val(),
            content: $('#content').val()
        };

        $.ajax({
            type: 'POST',
            url: '/api/v1/posts',
            dataType: 'json',
            contentType: 'application/json; charset-utf-8',
            data: JSON.stringify(data)
        }).done(function() {
            alert('등록완료');
        }).fail(function(error) {
            alert(JSON.stringify(error));
        });
    }
};
index.init();
</script>
</body>
</html>